---
import GuideImg from '../assets/about_us.jpg';
---

<section id="about_us" class="about" aria-labelledby="about-title">
  <div class="about-inner">
    <!-- TEXT COLUMN -->
    <div class="about-text">
      <h2 id="about-title" class="about-title">About Us</h2>
      <span class="about-accent" aria-hidden="true"></span>

      <div class="about-copy">
        <p>
          Veterans Disability Network is dedicated to Educating and providing detailed Consultation for men and women in our
          military on how to navigate the VA disability claims process successfully.
        </p>
        <p>
          Our mission is simple: to empower veterans with the knowledge, support, and expert resources they need to secure the
          benefits they’ve earned. We partner with top professionals across the country — Doctors, Attorneys, and Claim Advisors
          who are focused solely on Veteran Disability claims.
        </p>
        <p>
          Whether your case requires a fresh medical opinion, a tailored plan of action, or in-depth legal analysis, we are
          committed to going the distance for you. Don’t let the process frustrate you or confuse you. Call Veterans Disability
          Network today. Our Advisors will listen to you and explain the process.
        </p>
        <p>Veterans’ disability is not just what we do but what we believe in.</p>

        <!-- MODIFIED: Wrapped button and pop-up in a container -->
        <div class="action-btn-container">
          <a href="tel:+18003871705" class="action-btn" id="about-us-call-cta" aria-label="Call Veterans Disability Network now">
            Call Us Now
          </a>
          <!-- ADDED: Pop-up for desktop users -->
          <div id="about-phone-popup" class="phone-popup" hidden>
            <span class="phone-popup-number">800-387-1705</span>
            <button id="about-copy-phone-btn" class="copy-btn">Copy</button>
            <div id="about-copy-feedback" class="copy-feedback"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- IMAGE COLUMN -->
    <figure class="about-figure">
      <img
        src={GuideImg.src}
        alt="Advisor supporting a Veteran with an American flag backdrop"
        loading="lazy"
        decoding="async"
        width="960"
        height="1200"
        sizes="(min-width: 900px) 32vw, 100vw"
      />
    </figure>
  </div>

  <style>
    /* ===== Section frame ===== */
    .about {
      background: var(--color-bg);
      color: var(--color-text);
      padding: 3.5rem 1rem;
    }
    .about-inner {
      max-width: 72rem;
      margin: 0 auto;
      display: grid;
      gap: 1.5rem;
      align-items: start;
    }

    /* ===== Text column ===== */
    .about-text {
      display: grid;
      gap: .75rem; /* accent sits close to title */
      max-width: 65ch;
    }

    /* ===== Title ===== */
    .about-title {
      font: 800 clamp(1.5rem, 2.2vw + 1rem, 2.25rem) "Merriweather", Georgia, serif;
      line-height: 1.15;
      margin: 0;
      letter-spacing: .005em;
      text-wrap: balance;
      color: var(--color-primary);
    }

    /* Title accent (shared motif) */
    .about-accent {
      display: inline-block;
      width: 96px;
      height: 4px;
      border-radius: 999px;
      margin-top: .25rem;
      background: linear-gradient(90deg, #b22234 0%, var(--color-primary) 100%);
    }

    /* ===== Copy ===== */
    .about-copy {
      display: grid;
      gap: 1rem;
      font-size: clamp(1rem, .25vw + 1rem, 1.0625rem);
      line-height: 1.7;
    }
    .about-copy p { margin: 0; }

    /* ===== CTA ===== */
    .action-btn-container {
      position: relative;
      justify-self: start;
      margin-top: .5rem;
    }
    .action-btn {
      display: inline-block;
      padding: .9rem 1.5rem;
      border-radius: 9999px;
      font-weight: 700;
      font-size: 1rem;
      text-decoration: none;
      background: var(--color-primary);
      color: var(--color-bg);
      box-shadow: 0 6px 15px rgba(0,0,0,.18);
      transition: transform .25s cubic-bezier(.34,1.56,.64,1), box-shadow .25s ease;
    }
    .action-btn:hover,
    .action-btn:focus-visible {
      transform: translateY(-2px) scale(1.03);
      box-shadow: 0 10px 20px rgba(0,0,0,.22);
      outline: none;
    }
    .action-btn:active {
      transform: translateY(0) scale(.98);
      box-shadow: 0 4px 10px rgba(0,0,0,.18);
    }

    /* ADDED: Pop-up styles (copied from header) */
    .phone-popup {
        position: absolute;
        bottom: 120%;
        left: 50%;
        transform: translateX(-50%);
        background-color: var(--color-primary);
        color: var(--color-bg, #fff);
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        display: flex;
        align-items: center;
        gap: 0.75rem;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s;
        z-index: 5;
    }
    .phone-popup.is-visible {
        opacity: 1;
        visibility: visible;
    }
    .phone-popup::after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        border-width: 5px;
        border-style: solid;
        border-color: var(--color-primary) transparent transparent transparent;
    }
    .phone-popup-number { font-weight: 600; }
    .copy-btn {
        background-color: rgba(255,255,255,0.2);
        color: inherit;
        border: none;
        border-radius: 0.25rem;
        padding: 0.25rem 0.5rem;
        cursor: pointer;
    }
    .copy-feedback {
        font-size: 0.8rem;
        font-style: italic;
        min-width: 50px;
        text-align: left;
    }

    /* ===== Image (rounded rectangle) ===== */
    .about-figure {
      margin: 0;
      justify-self: center;
    }
    .about-figure img {
      display: block;
      width: min(100%, 32rem);
      aspect-ratio: 4 / 5;
      height: auto;
      object-fit: cover;
      object-position: right;
      border-radius: 1rem;
      box-shadow: 0 12px 28px rgba(0,0,0,.12);
      outline: 1px solid var(--color-border);
      outline-offset: -1px;
    }

    /* Make the image shorter on mobile */
    @media (max-width: 899px) {
      .about-figure img {
        aspect-ratio: 4 / 3;
        max-height: clamp(12rem, 42vh, 18rem);
        width: 100%;
        object-fit: cover;
        object-position: 50% 40%;
      }
    }

    /* ===== Large screens: two columns, text left / image right ===== */
    @media (min-width: 900px) {
      .about-inner {
        grid-template-columns: 1.1fr .9fr;
        grid-template-areas: "text image";
        align-items: center;
        gap: 3rem;
      }
      .about-text { grid-area: text; }
      .about-figure { grid-area: image; justify-self: end; }
      .about-figure img { width: clamp(22rem, 30vw, 32rem); }

      .about-copy p:first-of-type::first-letter {
        font-family: "Merriweather", Georgia, serif;
        font-weight: 800;
        color: var(--color-primary);
        margin-right: .35rem;
        line-height: 1;
        -webkit-initial-letter: 2;
        initial-letter: 2;
      }
      @supports not (initial-letter: 2) {
        .about-copy p:first-of-type::first-letter {
          float: left;
          font-size: 2.6rem;
          margin: .1rem .4rem 0 0;
        }
      }
    }

    /* ===== Reduced motion ===== */
    @media (prefers-reduced-motion: reduce) {
      .action-btn { transition: background .2s ease, color .2s ease; }
    }
  </style>
</section>
