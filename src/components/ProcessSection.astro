<section class="container" aria-labelledby="process-title">
  <!-- Header Section -->
  <header class="process-header">
    <h2 id="process-title" class="process-title">8â€‘Step VA Claim Process</h2>
    <span class="process-accent" aria-hidden="true"></span>
  </header>

  <!-- Timeline (ordered list for semantics) -->
  <ol class="timeline-container" role="list" aria-label="VA claim process steps">
    <!-- Timeline Item 1 -->
    <li class="timeline-item right">
      <article class="card" aria-labelledby="step-1-title">
        <h3>STEP 1</h3>
        <h4 id="step-1-title">Claim Received at VA</h4>
        <p>Your claim has been successfully submitted and is now in our system.</p>
      </article>
      <div class="step-circle" aria-hidden="true"><span class="step-number">1</span></div>
      <div class="timeline-spacer" aria-hidden="true"></div>
    </li>

    <!-- Timeline Item 2 -->
    <li class="timeline-item left">
      <article class="card" aria-labelledby="step-2-title">
        <h3>STEP 2</h3>
        <h4 id="step-2-title">Initial Review & Consultation</h4>
        <p>A reviewer is assigned and begins the initial assessment of your documents.</p>
      </article>
      <div class="step-circle" aria-hidden="true"><span class="step-number">2</span></div>
      <div class="timeline-spacer" aria-hidden="true"></div>
    </li>

    <!-- Timeline Item 3 -->
    <li class="timeline-item right">
      <article class="card" aria-labelledby="step-3-title">
        <h3>STEP 3</h3>
        <h4 id="step-3-title">Evidence Collection</h4>
        <p>We gather necessary evidence, such as service records and medical documents.</p>
      </article>
      <div class="step-circle" aria-hidden="true"><span class="step-number">3</span></div>
      <div class="timeline-spacer" aria-hidden="true"></div>
    </li>

    <!-- Timeline Item 4 -->
    <li class="timeline-item left">
      <article class="card" aria-labelledby="step-4-title">
        <h3>STEP 4</h3>
        <h4 id="step-4-title">Evidence Review</h4>
        <p>All collected evidence is thoroughly reviewed and analyzed by the claims processor.</p>
      </article>
      <div class="step-circle" aria-hidden="true"><span class="step-number">4</span></div>
      <div class="timeline-spacer" aria-hidden="true"></div>
    </li>

    <!-- Timeline Item 5 -->
    <li class="timeline-item right">
      <article class="card" aria-labelledby="step-5-title">
        <h3>STEP 5</h3>
        <h4 id="step-5-title">Rating</h4>
        <p>A rating decision is proposed based on the evidence and regulations.</p>
      </article>
      <div class="step-circle" aria-hidden="true"><span class="step-number">5</span></div>
      <div class="timeline-spacer" aria-hidden="true"></div>
    </li>

    <!-- Timeline Item 6 -->
    <li class="timeline-item left">
      <article class="card" aria-labelledby="step-6-title">
        <h3>STEP 6</h3>
        <h4 id="step-6-title">Preparing Decision Letter</h4>
        <p>The detailed decision letter explaining the outcome is drafted.</p>
      </article>
      <div class="step-circle" aria-hidden="true"><span class="step-number">6</span></div>
      <div class="timeline-spacer" aria-hidden="true"></div>
    </li>

    <!-- Timeline Item 7 -->
    <li class="timeline-item right">
      <article class="card" aria-labelledby="step-7-title">
        <h3>STEP 7</h3>
        <h4 id="step-7-title">Final Review</h4>
        <p>A senior reviewer conducts a final quality check on the claim and decision letter.</p>
      </article>
      <div class="step-circle" aria-hidden="true"><span class="step-number">7</span></div>
      <div class="timeline-spacer" aria-hidden="true"></div>
    </li>

    <!-- Timeline Item 8 -->
    <li class="timeline-item left">
      <article class="card" aria-labelledby="step-8-title">
        <h3 class="final">STEP 8</h3>
        <h4 id="step-8-title">Decision Letter Available</h4>
        <p>Your claim is complete, and the final decision letter is mailed and available online.</p>
      </article>
      <div class="step-circle final" aria-hidden="true">
        <svg class="checkmark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
      </div>
      <div class="timeline-spacer" aria-hidden="true"></div>
    </li>
  </ol>
</section>

<style>
  /* Utility: screen reader only */
  .sr-only {
    position: absolute !important;
    width: 1px; height: 1px;
    padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0, 0, 0, 0);
    white-space: nowrap; border: 0;
  }

  /* Container */
  .container {
    max-width: 80rem;
    margin-left: auto;
    margin-right: auto;
    padding: 3rem 1rem;
  }

  .process-header { text-align: center; margin-bottom: clamp(1.25rem, 3vw, 2rem); }
  .process-title {
    font: 800 clamp(1.5rem, 2.2vw + 1rem, 2.25rem) "Merriweather", Georgia, serif;
    margin: 0;
    line-height: 1.15;
    color: var(--color-primary);
  }
  .process-accent {
    display: inline-block; width: 96px; height: 4px; border-radius: 999px;
    margin-top: .75rem;
    background: linear-gradient(90deg, #b22234 0%, var(--color-primary) 100%);
  }

  .header h1 {
    font-size: 2.25rem;
    line-height: 2.5rem;
    font-weight: 700;
  }
  .header p {
    margin-top: 0.75rem;
    font-size: 1.125rem;
    line-height: 1.75rem;
    color: var(--color-muted);
    max-width: 42rem;
    margin-left: auto;
    margin-right: auto;
  }

  /* Timeline Container */
  .timeline-container {
    position: relative;
    max-width: 56rem;
    margin-left: auto;
    margin-right: auto;

    /* prevent default list numbers/indents while keeping semantics */
    list-style: none;
    padding-left: 0;
  }

  /* The vertical line for the timeline (decorative) */
  .timeline-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 3px;
    height: 100%;
    background-color: #d1d5db;
  }

  /* Timeline Item Styles */
  .timeline-item {
    margin-bottom: 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
  }

  .timeline-spacer {
    order: 1;
    width: calc(50% - 4rem);
  }

  .timeline-item.left .timeline-spacer {
    order: 3;
  }

  /* Step Circle */
  .step-circle {
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    order: 2;
    background-color: var(--color-primary);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    width: 3rem;
    height: 3rem;
    border-radius: 9999px;
    flex-shrink: 0;
  }

  /* New: span for the visible number (replaces nonsemantic h1) */
  .step-circle .step-number {
    font-weight: 600;
    font-size: 1.125rem;
    color: var(--color-primary-contrast);
    margin: 0;
  }

  /* Legacy rule retained (harmless if present) */
  .step-circle h1 {
    font-weight: 600;
    font-size: 1.125rem;
    color: var(--color-primary-contrast);
    margin: 0;
  }

  /* Step Card */
  .card {
    order: 3;
    background-color: var(--color-surface);
    border-radius: 0.5rem;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    width: calc(50% - 4rem);
    padding: 1.25rem 1.5rem;
    transition: transform 0.3s ease;
  }

  .timeline-item.left .card {
    order: 1;
  }

  .card:hover {
    transform: scale(1.05);
  }

  .card h3 {
    font-weight: 700;
    color: var(--color-primary);
    font-size: 0.875rem;
    letter-spacing: 0.05em;
  }

  .card h4 {
    font-weight: 600;
    color: var(--color-text);
    font-size: 1.125rem;
    margin-top: 0.25rem;
  }

  .card p {
    font-size: 0.875rem;
    color: var(--color-muted);
    margin-top: 0.5rem;
  }

  /* Final Step Styles - status (success) colors kept separate from theme. */
  .step-circle.final {
    background-color: #22c55e;
  }
  .card h3.final {
    color: #15803d;
  }
  .checkmark {
    width: 1.5rem;
    height: 1.5rem;
    color: var(--color-primary-contrast);
  }

  /* Reduced motion: respect user preference without changing aesthetics */
  @media (prefers-reduced-motion: reduce) {
    .card { transition: none; }
    .card:hover { transform: none; }
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .timeline-container::before {
      left: 1.5rem;
      transform: translateX(0);
    }
    .timeline-item, .timeline-item.left {
      flex-direction: row;
      justify-content: flex-start;
      align-items: flex-start;
    }
    .timeline-spacer {
      display: none;
    }
    .step-circle {
      order: 1;
      margin-right: 2rem;
      position: relative;
      left: 0;
      transform: translateX(0);
      margin-left: 1.5rem;
    }
    .card, .timeline-item.left .card {
      order: 2;
      width: calc(100% - 6rem);
    }
  }
</style>
